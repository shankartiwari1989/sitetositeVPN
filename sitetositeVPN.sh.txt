
1.  Commands for Installation of Openswan
    i. Change to root user: 
                $ sudo su
    ii. Install openswan:
                $ yum install openswan -y
    iii. In /etc/ipsec.conf uncomment following line if not already 
          uncommented:
                 include /etc/ipsec.d/*.conf
    iv. Update /etc/sysctl.conf to have following
 net.ipv4.ip_forward = 1
 net.ipv4.conf.all.accept_redirects = 0
 net.ipv4.conf.all.send_redirects = 0
    v. Restart network service:
                 $ service network restart

2. Command for /etc/ipsec.d/aws-vpn.conf
conn Tunnel1
        authby=secret
        auto=start
        left=%defaultroute
        leftid=Customer end Gateway VPN public IP [REMOVE EVERY THING AFTER EQUAL SIGN AND PUT CUSTOMER GATEWAY IP ADDRESS FROM DOWNLOADED CONFIGRATION FILE] outside IP add honi chahiye
        right=AWS Virtual private gateway ID- public IP [REMOVE EVERY THING AFTER EQUAL SIGN AND PUT VIRTUAL PRIVATE GATEWAY IP ADDRESS FROM DOWNLOADED CONFIGRATION FILE]
        type=tunnel
        ikelifetime=8h
        keylife=1h
        phase2alg=aes128-sha1;modp1024
        ike=aes128-sha1;modp1024
        auth=esp                              [REMOVE THIS LINE ]
        keyingtries=%forever
        keyexchange=ike
        leftsubnet=[Customer end VPN CIDR]
        rightsubnet=[AWS end VPN CIDR]
        dpddelay=10
        dpdtimeout=30
        dpdaction=restart_by_peer

3. Contents for  /etc/ipsec.d/aws-vpn.secrets
customer_public_ip aws_vgw_public_ip: Pre Share Key "shared secret"(PUT CUSTOMER GATEWAY AND VIRTUAL PRIVATE GATEWAY AND PRE SHARED KEY, from downloaded config file)

4. Commands to enable/start ipsec service
           $ chkconfig ipsec on
           $ service ipsec start
           $ service ipsec status

END .....................
